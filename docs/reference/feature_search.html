<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>General Feature Searching Engine — feature_search • FSelectorRcpp</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">FSelectorRcpp</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>General Feature Searching Engine</h1>
    </div>

    
    <p>A convenience wrapper for <code>greedy</code> and <code>exhaustive</code> feature selection algorithms that
extract valuable attributes depending on the evaluation method (called evaluator).</p>
    

    <pre><span class='fu'>feature_search</span>(<span class='no'>attributes</span>, <span class='no'>fun</span>, <span class='no'>data</span>, <span class='kw'>mode</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"greedy"</span>, <span class='st'>"exhaustive"</span>),
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"forward"</span>, <span class='st'>"backward"</span>), <span class='kw'>sizes</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fu'>length</span>(<span class='no'>attributes</span>),
  <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>attributes</dt>
      <dd>A character vector with attributes&#39; names to be used to extract the most valuable features.</dd>
      <dt>fun</dt>
      <dd>A function (evaluator) to be used to score features&#39; sets at each iteration of the algorithm passed via <code>mode</code>.
See Examples.</dd>
      <dt>data</dt>
      <dd>A data set for <code>fun</code> function (evaluator).</dd>
      <dt>mode</dt>
      <dd>A character that determines which search algorithm to perform. Defualt is <code>&quot;greedy&quot;</code>.</dd>
      <dt>type</dt>
      <dd>Used when <code>mode = &quot;greedy&quot;</code> - whether to use the
<code>backward</code> or the <code>forward</code> multiple-way search. Default is <code>&quot;forward&quot;</code>.</dd>
      <dt>sizes</dt>
      <dd>Used when <code>mode = &quot;exhaustive&quot;</code> - a vector of sizes
of attributes subsets.</dd>
      <dt>parallel</dt>
      <dd>Allow parallelization.</dd>
      <dt>&#8230;</dt>
      <dd>Other arguments passed to foreach function.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with following components
<ul>
<li> best - a data.frame with the best subset and it&#39;s score (1 - feature used, 0 - feature not used),
  </li>
<li> all - a data.frame with all checked features&#39; subsets and their score (1 - feature used, 0 - feature not used),
  </li>
<li> data - the data used in the feature selection,
  </li>
<li> fun - the evaluator used to compute the score of importance for features&#39; subsets,
  </li>
<li> call - an origin call of the <code>feature_search</code>,
  </li>
<li> mode - the mode used in the call.
</li>
</ul></p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The evaluator function passed with <code>fun</code> is used to determine
the importance score of current features&#39; subset.
The score is used in a multiple-way (backward or forward) <code>greedy</code>
algorithm as a stopping moment or as a selection criterion
in the <code>exhaustive</code> search that checks all possible
attributes&#39; subset combinations (of sizes passed in <code>sizes</code>).</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Note that score depends on the evaluator you provide in the <code>fun</code> parameter.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Enable parallelization in examples</span>
 <span class='fu'>library</span>(<span class='no'>doSNOW</span>) <span class='co'># doSNOW has an option for progress bar</span></div><div class='output co'>#&gt; <span class='message'>Loading required package: foreach</span></div><div class='output co'>#&gt; <span class='message'>foreach: simple, scalable parallel programming from Revolution Analytics</span>
#&gt; <span class='message'>Use Revolution R for scalability, fault tolerance and more.</span>
#&gt; <span class='message'>http://www.revolutionanalytics.com</span></div><div class='output co'>#&gt; <span class='message'>Loading required package: iterators</span></div><div class='output co'>#&gt; <span class='message'>Loading required package: snow</span></div><div class='input'> <span class='no'>cl</span> <span class='kw'>&lt;-</span> <span class='fu'>makeCluster</span>(<span class='fl'>2</span>)
 <span class='fu'>registerDoSNOW</span>(<span class='no'>cl</span>)

<span class='co'># Close at the end</span>
<span class='co'># stopCluster(cl)</span>
<span class='co'># registerDoSEQ()</span>

<span class='co'># 1) Evaluator from FSelector package.</span>
<span class='no'>evaluator</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>subset</span>, <span class='no'>data</span>, <span class='no'>dependent</span> <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>iris</span>)[<span class='fl'>5</span>]) {
  <span class='fu'>library</span>(<span class='no'>rpart</span>)
  <span class='no'>k</span> <span class='kw'>&lt;-</span> <span class='fl'>5</span>
  <span class='no'>splits</span> <span class='kw'>&lt;-</span> <span class='fu'>runif</span>(<span class='fu'>nrow</span>(<span class='no'>data</span>))
  <span class='no'>results</span> <span class='kw'>&lt;-</span> <span class='fu'>sapply</span>(<span class='fl'>1</span>:<span class='no'>k</span>, <span class='kw'>function</span>(<span class='no'>i</span>) {
    <span class='no'>test.idx</span> <span class='kw'>&lt;-</span> (<span class='no'>splits</span> <span class='kw'>&gt;=</span> (<span class='no'>i</span> - <span class='fl'>1</span>) / <span class='no'>k</span>) <span class='kw'>&amp;</span> (<span class='no'>splits</span> <span class='kw'>&lt;</span> <span class='no'>i</span> / <span class='no'>k</span>)
    <span class='no'>train.idx</span> <span class='kw'>&lt;-</span> !<span class='no'>test.idx</span>
    <span class='no'>test</span> <span class='kw'>&lt;-</span> <span class='no'>data</span>[<span class='no'>test.idx</span>, , <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>]
    <span class='no'>train</span> <span class='kw'>&lt;-</span> <span class='no'>data</span>[<span class='no'>train.idx</span>, , <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>]
    <span class='no'>tree</span> <span class='kw'>&lt;-</span> <span class='fu'>rpart</span>(<span class='fu'><a href='to_formula.html'>to_formula</a></span>(<span class='no'>subset</span>, <span class='no'>dependent</span>), <span class='no'>train</span>)
    <span class='no'>error.rate</span> <span class='kw'>&lt;-</span> <span class='fu'>sum</span>(<span class='no'>test</span><span class='kw'>[[</span><span class='no'>dependent</span>]] <span class='kw'>!=</span> <span class='fu'>predict</span>(<span class='no'>tree</span>, <span class='no'>test</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"c"</span>)) /
    <span class='fu'>nrow</span>(<span class='no'>test</span>)
    <span class='fu'>return</span>(<span class='fl'>1</span> - <span class='no'>error.rate</span>)
  })
  <span class='fu'>return</span>(<span class='fu'>mean</span>(<span class='no'>results</span>))
}

<span class='co'># Default greedy search.</span>
<span class='fu'>system.time</span>(
  <span class='fu'>feature_search</span>(<span class='kw'>attributes</span> <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>iris</span>)[-<span class='fl'>5</span>],
                 <span class='kw'>fun</span> <span class='kw'>=</span> <span class='no'>evaluator</span>,
                 <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>)
)</div><div class='output co'>#&gt;   |                                                                                                                                                                  |                                                                                                                                                          |   0%  |                                                                                                                                                                  |======================================                                                                                                                    |  25%  |                                                                                                                                                                  |=============================================================================                                                                             |  50%  |                                                                                                                                                                  |====================================================================================================================                                      |  75%  |                                                                                                                                                                  |==========================================================================================================================================================| 100%  |                                                                                                                                                                        |                                                                                                                                                                |   0%  |                                                                                                                                                                        |=====================================================                                                                                                           |  33%  |                                                                                                                                                                        |===========================================================================================================                                                     |  67%  |                                                                                                                                                                        |================================================================================================================================================================| 100%  |                                                                                                                                                                        |                                                                                                                                                                |   0%  |                                                                                                                                                                        |================================================================================                                                                                |  50%  |                                                                                                                                                                        |================================================================================================================================================================| 100%  |                                                                                                                                                                        |                                                                                                                                                                |   0%  |                                                                                                                                                                        |================================================================================================================================================================| 100%</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;   0.032   0.011   0.428 </div><div class='input'><span class='fu'>system.time</span>(
  <span class='fu'>feature_search</span>(<span class='kw'>attributes</span> <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>iris</span>)[-<span class='fl'>5</span>],
                 <span class='kw'>fun</span> <span class='kw'>=</span> <span class='no'>evaluator</span>,
                 <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>,
                 <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
)</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;   0.189   0.009   0.198 </div><div class='input'>
<span class='co'># Optional exhaustive search.</span>
<span class='fu'>system.time</span>(
  <span class='fu'>feature_search</span>(<span class='kw'>attributes</span> <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>iris</span>)[-<span class='fl'>5</span>],
                 <span class='kw'>fun</span> <span class='kw'>=</span> <span class='no'>evaluator</span>,
                 <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>,
                 <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"exhaustive"</span>)
)</div><div class='output co'>#&gt;   |                                                                                                                                                                        |                                                                                                                                                                |   0%  |                                                                                                                                                                        |===========                                                                                                                                                     |   7%  |                                                                                                                                                                        |=====================                                                                                                                                           |  13%  |                                                                                                                                                                        |================================                                                                                                                                |  20%  |                                                                                                                                                                        |===========================================                                                                                                                     |  27%  |                                                                                                                                                                        |=====================================================                                                                                                           |  33%  |                                                                                                                                                                        |================================================================                                                                                                |  40%  |                                                                                                                                                                        |===========================================================================                                                                                     |  47%  |                                                                                                                                                                        |=====================================================================================                                                                           |  53%  |                                                                                                                                                                        |================================================================================================                                                                |  60%  |                                                                                                                                                                        |===========================================================================================================                                                     |  67%  |                                                                                                                                                                        |=====================================================================================================================                                           |  73%  |                                                                                                                                                                        |================================================================================================================================                                |  80%  |                                                                                                                                                                        |===========================================================================================================================================                     |  87%  |                                                                                                                                                                        |=====================================================================================================================================================           |  93%  |                                                                                                                                                                        |================================================================================================================================================================| 100%</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;   0.016   0.000   0.217 </div><div class='input'><span class='fu'>system.time</span>(
  <span class='fu'>feature_search</span>(<span class='kw'>attributes</span> <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>iris</span>)[-<span class='fl'>5</span>],
                 <span class='kw'>fun</span> <span class='kw'>=</span> <span class='no'>evaluator</span>,
                 <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>,
                 <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"exhaustive"</span>,
                 <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
)</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;   0.288   0.001   0.288 </div><div class='input'>
<span class='co'># 2) Maximize R^2 statistics in the linear regression model/problem.</span>

<span class='no'>evaluator_R2_lm</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>attributes</span>, <span class='no'>data</span>, <span class='no'>dependent</span> <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>iris</span>)[<span class='fl'>1</span>]) {
  <span class='fu'>summary</span>(
    <span class='fu'>lm</span>(<span class='fu'><a href='to_formula.html'>to_formula</a></span>(<span class='no'>attributes</span>, <span class='no'>dependent</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>data</span>)
  )$<span class='no'>r.squared</span>
}

<span class='fu'>feature_search</span>(<span class='kw'>attributes</span> <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>iris</span>)[-<span class='fl'>1</span>],
               <span class='kw'>fun</span> <span class='kw'>=</span> <span class='no'>evaluator_R2_lm</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>,
               <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"exhaustive"</span>)</div><div class='output co'>#&gt;   |                                                                                                                                                                        |                                                                                                                                                                |   0%  |                                                                                                                                                                        |===========                                                                                                                                                     |   7%  |                                                                                                                                                                        |=====================                                                                                                                                           |  13%  |                                                                                                                                                                        |================================                                                                                                                                |  20%  |                                                                                                                                                                        |===========================================                                                                                                                     |  27%  |                                                                                                                                                                        |=====================================================                                                                                                           |  33%  |                                                                                                                                                                        |================================================================                                                                                                |  40%  |                                                                                                                                                                        |===========================================================================                                                                                     |  47%  |                                                                                                                                                                        |=====================================================================================                                                                           |  53%  |                                                                                                                                                                        |================================================================================================                                                                |  60%  |                                                                                                                                                                        |===========================================================================================================                                                     |  67%  |                                                                                                                                                                        |=====================================================================================================================                                           |  73%  |                                                                                                                                                                        |================================================================================================================================                                |  80%  |                                                                                                                                                                        |===========================================================================================================================================                     |  87%  |                                                                                                                                                                        |=====================================================================================================================================================           |  93%  |                                                                                                                                                                        |================================================================================================================================================================| 100%</div><div class='output co'>#&gt; $best
#&gt;    Sepal.Width Petal.Length Petal.Width Species    values
#&gt; 15           1            1           1       1 0.8673123
#&gt; 
#&gt; $all
#&gt;    Sepal.Width Petal.Length Petal.Width Species     values
#&gt; 1            1            0           0       0 0.01382265
#&gt; 2            0            1           0       0  0.7599546
#&gt; 3            0            0           1       0  0.6690277
#&gt; 4            0            0           0       1  0.6187057
#&gt; 5            1            1           0       0  0.8401778
#&gt; 6            1            0           1       0  0.7072371
#&gt; 7            1            0           0       1  0.7259066
#&gt; 8            0            1           1       0  0.7662613
#&gt; 9            0            1           0       1  0.8367238
#&gt; 10           0            0           1       1  0.6693664
#&gt; 11           1            1           1       0  0.8586117
#&gt; 12           1            1           0       1  0.8633088
#&gt; 13           1            0           1       1  0.7323845
#&gt; 14           0            1           1       1  0.8367254
#&gt; 15           1            1           1       1  0.8673123
#&gt; 
#&gt; $fun
#&gt; function (attributes, data, dependent = names(iris)[1]) 
#&gt; {
#&gt;     summary(lm(to_formula(attributes, dependent), data = data))$r.squared
#&gt; }
#&gt; &lt;environment: 0x5c82a48&gt;
#&gt; 
#&gt; $call
#&gt; feature_search(attributes = names(iris)[-1], fun = evaluator_R2_lm, 
#&gt;     data = iris, mode = &quot;exhaustive&quot;)
#&gt; 
#&gt; $mode
#&gt; [1] &quot;exhaustive&quot;
#&gt; 
#&gt; $data.Sepal.Length
#&gt;   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5 4.9 5.0 5.5 4.9 4.4 5.1 5.0
#&gt;  [42] 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0 6.4 6.9 5.5 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8 6.2 5.6 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5
#&gt;  [83] 5.8 6.0 5.4 6.0 6.7 6.3 5.6 5.5 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3 6.5 7.6 4.9 7.3 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7 6.0 6.9 5.6 7.7
#&gt; [124] 6.3 6.7 7.2 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8 6.7 6.7 6.3 6.5 6.2 5.9
#&gt; 
#&gt; $data.Sepal.Width
#&gt;   [1] 3.5 3.0 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 3.7 3.4 3.0 3.0 4.0 4.4 3.9 3.5 3.8 3.8 3.4 3.7 3.6 3.3 3.4 3.0 3.4 3.5 3.4 3.2 3.1 3.4 4.1 4.2 3.1 3.2 3.5 3.6 3.0 3.4 3.5
#&gt;  [42] 2.3 3.2 3.5 3.8 3.0 3.8 3.2 3.7 3.3 3.2 3.2 3.1 2.3 2.8 2.8 3.3 2.4 2.9 2.7 2.0 3.0 2.2 2.9 2.9 3.1 3.0 2.7 2.2 2.5 3.2 2.8 2.5 2.8 2.9 3.0 2.8 3.0 2.9 2.6 2.4 2.4
#&gt;  [83] 2.7 2.7 3.0 3.4 3.1 2.3 3.0 2.5 2.6 3.0 2.6 2.3 2.7 3.0 2.9 2.9 2.5 2.8 3.3 2.7 3.0 2.9 3.0 3.0 2.5 2.9 2.5 3.6 3.2 2.7 3.0 2.5 2.8 3.2 3.0 3.8 2.6 2.2 3.2 2.8 2.8
#&gt; [124] 2.7 3.3 3.2 2.8 3.0 2.8 3.0 2.8 3.8 2.8 2.8 2.6 3.0 3.4 3.1 3.0 3.1 3.1 3.1 2.7 3.2 3.3 3.0 2.5 3.0 3.4 3.0
#&gt; 
#&gt; $data.Petal.Length
#&gt;   [1] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 1.5 1.6 1.4 1.1 1.2 1.5 1.3 1.4 1.7 1.5 1.7 1.5 1.0 1.7 1.9 1.6 1.6 1.5 1.4 1.6 1.6 1.5 1.5 1.4 1.5 1.2 1.3 1.4 1.3 1.5 1.3
#&gt;  [42] 1.3 1.3 1.6 1.9 1.4 1.6 1.4 1.5 1.4 4.7 4.5 4.9 4.0 4.6 4.5 4.7 3.3 4.6 3.9 3.5 4.2 4.0 4.7 3.6 4.4 4.5 4.1 4.5 3.9 4.8 4.0 4.9 4.7 4.3 4.4 4.8 5.0 4.5 3.5 3.8 3.7
#&gt;  [83] 3.9 5.1 4.5 4.5 4.7 4.4 4.1 4.0 4.4 4.6 4.0 3.3 4.2 4.2 4.2 4.3 3.0 4.1 6.0 5.1 5.9 5.6 5.8 6.6 4.5 6.3 5.8 6.1 5.1 5.3 5.5 5.0 5.1 5.3 5.5 6.7 6.9 5.0 5.7 4.9 6.7
#&gt; [124] 4.9 5.7 6.0 4.8 4.9 5.6 5.8 6.1 6.4 5.6 5.1 5.6 6.1 5.6 5.5 4.8 5.4 5.6 5.1 5.1 5.9 5.7 5.2 5.0 5.2 5.4 5.1
#&gt; 
#&gt; $data.Petal.Width
#&gt;   [1] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 0.2 0.2 0.1 0.1 0.2 0.4 0.4 0.3 0.3 0.3 0.2 0.4 0.2 0.5 0.2 0.2 0.4 0.2 0.2 0.2 0.2 0.4 0.1 0.2 0.2 0.2 0.2 0.1 0.2 0.2 0.3
#&gt;  [42] 0.3 0.2 0.6 0.4 0.3 0.2 0.2 0.2 0.2 1.4 1.5 1.5 1.3 1.5 1.3 1.6 1.0 1.3 1.4 1.0 1.5 1.0 1.4 1.3 1.4 1.5 1.0 1.5 1.1 1.8 1.3 1.5 1.2 1.3 1.4 1.4 1.7 1.5 1.0 1.1 1.0
#&gt;  [83] 1.2 1.6 1.5 1.6 1.5 1.3 1.3 1.3 1.2 1.4 1.2 1.0 1.3 1.2 1.3 1.3 1.1 1.3 2.5 1.9 2.1 1.8 2.2 2.1 1.7 1.8 1.8 2.5 2.0 1.9 2.1 2.0 2.4 2.3 1.8 2.2 2.3 1.5 2.3 2.0 2.0
#&gt; [124] 1.8 2.1 1.8 1.8 1.8 2.1 1.6 1.9 2.0 2.2 1.5 1.4 2.3 2.4 1.8 1.8 2.1 2.4 2.3 1.9 2.3 2.5 2.3 1.9 2.0 2.3 1.8
#&gt; 
#&gt; $data.Species
#&gt;   [1] setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa    
#&gt;  [16] setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa    
#&gt;  [31] setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa     setosa    
#&gt;  [46] setosa     setosa     setosa     setosa     setosa     versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor
#&gt;  [61] versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor
#&gt;  [76] versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor
#&gt;  [91] versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor versicolor virginica  virginica  virginica  virginica  virginica 
#&gt; [106] virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica 
#&gt; [121] virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica 
#&gt; [136] virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica  virginica 
#&gt; Levels: setosa versicolor virginica
#&gt; </div><div class='input'>
<span class='co'># 3) Optimize BIC crietion in generalized linear model.</span>
<span class='co'># Aim of Bayesian approach it to identify the model with the highest</span>
<span class='co'># probability of being the true model. - Kuha 2004</span>

<span class='kw'>utils</span><span class='kw'>::</span><span class='fu'>data</span>(<span class='no'>anorexia</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"MASS"</span>)

<span class='no'>evaluator_BIC_glm</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>attributes</span>, <span class='no'>data</span>, <span class='no'>dependent</span> <span class='kw'>=</span> <span class='st'>"Postwt"</span>) {
  <span class='fu'>extractAIC</span>(
    <span class='kw'>fit</span> <span class='kw'>=</span> <span class='fu'>glm</span>(<span class='fu'><a href='to_formula.html'>to_formula</a></span>(<span class='no'>attributes</span>, <span class='no'>dependent</span>), <span class='kw'>family</span> <span class='kw'>=</span> <span class='no'>gaussian</span>,
              <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>data</span>),
    <span class='kw'>k</span> <span class='kw'>=</span> <span class='fu'>log</span>(<span class='fu'>nrow</span>(<span class='no'>data</span>))
  )[<span class='fl'>2</span>]
}

<span class='fu'>feature_search</span>(<span class='kw'>attributes</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"Prewt"</span>, <span class='st'>"Treat"</span>, <span class='st'>"offset(Prewt)"</span>),
               <span class='kw'>fun</span> <span class='kw'>=</span> <span class='no'>evaluator_BIC_glm</span>,
               <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>anorexia</span>,
               <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"exhaustive"</span>)</div><div class='output co'>#&gt;   |                                                                                                                                                                        |                                                                                                                                                                |   0%  |                                                                                                                                                                        |=======================                                                                                                                                         |  14%  |                                                                                                                                                                        |==============================================                                                                                                                  |  29%  |                                                                                                                                                                        |=====================================================================                                                                                           |  43%  |                                                                                                                                                                        |===========================================================================================                                                                     |  57%  |                                                                                                                                                                        |==================================================================================================================                                              |  71%  |                                                                                                                                                                        |=========================================================================================================================================                       |  86%  |                                                                                                                                                                        |================================================================================================================================================================| 100%</div><div class='output co'>#&gt; $best
#&gt;   Prewt Treat offset(Prewt)   values
#&gt; 3     0     0             1 508.7408
#&gt; 
#&gt; $all
#&gt;   Prewt Treat offset(Prewt)   values
#&gt; 1     1     0             0 505.5144
#&gt; 2     0     1             0 502.1123
#&gt; 3     0     0             1 508.7408
#&gt; 4     1     1             0   499.08
#&gt; 5     1     0             1 505.5144
#&gt; 6     0     1             1 506.7839
#&gt; 7     1     1             1   499.08
#&gt; 
#&gt; $fun
#&gt; function (attributes, data, dependent = &quot;Postwt&quot;) 
#&gt; {
#&gt;     extractAIC(fit = glm(to_formula(attributes, dependent), family = gaussian, 
#&gt;         data = data), k = log(nrow(data)))[2]
#&gt; }
#&gt; &lt;environment: 0x5c82a48&gt;
#&gt; 
#&gt; $call
#&gt; feature_search(attributes = c(&quot;Prewt&quot;, &quot;Treat&quot;, &quot;offset(Prewt)&quot;), 
#&gt;     fun = evaluator_BIC_glm, data = anorexia, mode = &quot;exhaustive&quot;)
#&gt; 
#&gt; $mode
#&gt; [1] &quot;exhaustive&quot;
#&gt; 
#&gt; $data.Treat
#&gt;  [1] Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont Cont CBT  CBT  CBT  CBT  CBT  CBT  CBT 
#&gt; [34] CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  CBT  FT   FT   FT   FT   FT   FT   FT   FT   FT   FT   FT  
#&gt; [67] FT   FT   FT   FT   FT   FT  
#&gt; Levels: CBT Cont FT
#&gt; 
#&gt; $data.Prewt
#&gt;  [1] 80.7 89.4 91.8 74.0 78.1 88.3 87.3 75.1 80.6 78.4 77.6 88.7 81.3 78.1 70.5 77.3 85.2 86.0 84.1 79.7 85.5 84.4 79.6 77.5 72.3 89.0 80.5 84.9 81.5 82.6 79.9 88.7 94.9
#&gt; [34] 76.3 81.0 80.5 85.0 89.2 81.3 76.5 70.0 80.4 83.3 83.0 87.7 84.2 86.4 76.5 80.2 87.8 83.3 79.7 84.5 80.8 87.4 83.8 83.3 86.0 82.5 86.7 79.6 76.9 94.2 73.4 80.5 81.6
#&gt; [67] 82.1 77.6 83.5 89.9 86.0 87.3
#&gt; 
#&gt; $data.Postwt
#&gt;  [1]  80.2  80.1  86.4  86.3  76.1  78.1  75.1  86.7  73.5  84.6  77.4  79.5  89.6  81.4  81.8  77.3  84.2  75.4  79.5  73.0  88.3  84.7  81.4  81.2  88.2  78.8  82.2
#&gt; [28]  85.6  81.4  81.9  76.4 103.6  98.4  93.4  73.4  82.1  96.7  95.3  82.4  72.5  90.9  71.3  85.4  81.6  89.1  83.9  82.7  75.7  82.6 100.4  85.2  83.6  84.6  96.2
#&gt; [55]  86.7  95.2  94.3  91.5  91.9 100.3  76.7  76.8 101.6  94.9  75.2  77.8  95.5  90.7  92.5  93.8  91.7  98.0
#&gt; </div><div class='input'>
<span class='co'># Close parallelization</span>
<span class='fu'>stopCluster</span>(<span class='no'>cl</span>)
<span class='fu'>registerDoSEQ</span>()</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Zygmunt Zawadzki <a href='mailto:zygmunt.zawadzki@gmail.com'>zygmunt.zawadzki@gmail.com</a>

Krzysztof Slomczynski <a href='mailto:krzysztofslomczynski@gmail.com'>krzysztofslomczynski@gmail.com</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Zygmunt Zawadzki, Marcin Kosinski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
